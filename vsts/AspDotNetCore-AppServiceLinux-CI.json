{
    "build": [
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Restore",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "DotNetCoreCLI_1",
            "task": {
                "id": "5541a522-603c-47ad-91fc-a4b1d163081b",
                "versionSpec": "1.*",
                "definitionType": "task"
            },
            "inputs": {
                "command": "restore",
                "publishWebProjects": "true",
                "projects": "**/*.csproj",
                "arguments": "",
                "zipAfterPublish": "true"
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Build",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "DotNetCoreCLI_2",
            "task": {
                "id": "5541a522-603c-47ad-91fc-a4b1d163081b",
                "versionSpec": "1.*",
                "definitionType": "task"
            },
            "inputs": {
                "command": "build",
                "publishWebProjects": "true",
                "projects": "src/AspNetCoreApplication/AspNetCoreApplication.csproj\ntest/AspNetCoreApplication.UnitTests/AspNetCoreApplication.UnitTests.csproj",
                "arguments": "--configuration $(BuildConfiguration)",
                "zipAfterPublish": "true"
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "UnitTests",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "DotNetCoreCLI_3",
            "task": {
                "id": "5541a522-603c-47ad-91fc-a4b1d163081b",
                "versionSpec": "1.*",
                "definitionType": "task"
            },
            "inputs": {
                "command": "test",
                "publishWebProjects": "true",
                "projects": "**/*UnitTests/*.csproj",
                "arguments": "--configuration $(BuildConfiguration)",
                "zipAfterPublish": "true"
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Publish UnitTests Results",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "PublishTestResults_4",
            "task": {
                "id": "0b0f01ed-7dde-43ff-9cbb-e48954daf9b1",
                "versionSpec": "2.*",
                "definitionType": "task"
            },
            "inputs": {
                "testRunner": "XUnit",
                "testResultsFiles": "**/TEST-*.xml",
                "searchFolder": "$(System.DefaultWorkingDirectory)",
                "mergeTestResults": "true",
                "testRunTitle": "",
                "platform": "",
                "configuration": "",
                "publishRunAttachments": "true"
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Publish Web App",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "DotNetCoreCLI_5",
            "task": {
                "id": "5541a522-603c-47ad-91fc-a4b1d163081b",
                "versionSpec": "1.*",
                "definitionType": "task"
            },
            "inputs": {
                "command": "publish",
                "publishWebProjects": "true",
                "projects": "",
                "arguments": "--configuration $(BuildConfiguration) --output pub",
                "zipAfterPublish": "false"
            }
        },
        {
            "enabled": false,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "NuGet restore",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "NuGetCommand_9",
            "task": {
                "id": "333b11bd-d341-40d9-afcf-b32d5ce6f23b",
                "versionSpec": "0.*",
                "definitionType": "task"
            },
            "inputs": {
                "solution": "test/AspNetCoreApplication.UITests/packages.config",
                "nugetConfigPath": "",
                "restoreMode": "restore",
                "noCache": "false",
                "nuGetRestoreArgs": "",
                "verbosity": "Detailed",
                "nuGetVersion": "3.3.0",
                "nuGetPath": ""
            }
        },
        {
            "enabled": false,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Build UITests",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "MSBuild_11",
            "task": {
                "id": "c6c4c611-aa2e-4a33-b606-5eaba2196824",
                "versionSpec": "1.*",
                "definitionType": "task"
            },
            "inputs": {
                "solution": "test/AspNetCoreApplication.UITests/AspNetCoreApplication.UITests.csproj",
                "msbuildLocationMethod": "version",
                "msbuildVersion": "latest",
                "msbuildArchitecture": "x86",
                "msbuildLocation": "",
                "platform": "",
                "configuration": "$(BuildConfiguration)",
                "msbuildArguments": "",
                "clean": "false",
                "maximumCpuCount": "false",
                "restoreNugetPackages": "false",
                "logProjectEvents": "false",
                "createLogFile": "false"
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Build Docker image",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "Docker_12",
            "task": {
                "id": "e28912f1-0114-4464-802a-a3a35437fd16",
                "versionSpec": "0.*",
                "definitionType": "task"
            },
            "inputs": {
                "containerregistrytype": "Azure Container Registry",
                "dockerRegistryEndpoint": "",
                "azureSubscriptionEndpoint": "3fcb20b6-eca0-48e5-9e59-35c9822a7152",
                "azureContainerRegistry": "{\"loginServer\":\"demoregfoo123.azurecr.io\", \"id\" : \"/subscriptions/0bd042ec-b6bc-4162-8385-c05a21d55572/resourcegroups/MyResGroup/providers/Microsoft.ContainerRegistry/registries/demoregfoo123\"}",
                "action": "Build an image",
                "dockerFile": "**/Dockerfile",
                "buildArguments": "source=pub",
                "defaultContext": "true",
                "context": "",
                "imageName": "$(Build.Repository.Name):$(Build.BuildId)",
                "qualifyImageName": "true",
                "additionalImageTags": "",
                "includeSourceTags": "false",
                "includeLatestTag": "true",
                "imageDigestFile": "",
                "containerName": "",
                "ports": "",
                "volumes": "",
                "envVars": "",
                "workDir": "",
                "entrypoint": "",
                "containerCommand": "",
                "detached": "true",
                "restartPolicy": "no",
                "restartMaxRetries": "",
                "customCommand": "",
                "dockerHostEndpoint": "",
                "cwd": "$(System.DefaultWorkingDirectory)"
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Push an image",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "Docker_13",
            "task": {
                "id": "e28912f1-0114-4464-802a-a3a35437fd16",
                "versionSpec": "0.*",
                "definitionType": "task"
            },
            "inputs": {
                "containerregistrytype": "Azure Container Registry",
                "dockerRegistryEndpoint": "",
                "azureSubscriptionEndpoint": "3fcb20b6-eca0-48e5-9e59-35c9822a7152",
                "azureContainerRegistry": "{\"loginServer\":\"demoregfoo123.azurecr.io\", \"id\" : \"/subscriptions/0bd042ec-b6bc-4162-8385-c05a21d55572/resourcegroups/MyResGroup/providers/Microsoft.ContainerRegistry/registries/demoregfoo123\"}",
                "action": "Push an image",
                "dockerFile": "**/Dockerfile",
                "buildArguments": "",
                "defaultContext": "true",
                "context": "",
                "imageName": "$(Build.Repository.Name):$(Build.BuildId)",
                "qualifyImageName": "true",
                "additionalImageTags": "",
                "includeSourceTags": "false",
                "includeLatestTag": "true",
                "imageDigestFile": "",
                "containerName": "",
                "ports": "",
                "volumes": "",
                "envVars": "",
                "workDir": "",
                "entrypoint": "",
                "containerCommand": "",
                "detached": "true",
                "restartPolicy": "no",
                "restartMaxRetries": "",
                "customCommand": "",
                "dockerHostEndpoint": "",
                "cwd": "$(System.DefaultWorkingDirectory)"
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Validate ARM Templates",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "AzureResourceGroupDeployment_12",
            "task": {
                "id": "94a74903-f93f-4075-884f-dc11f34058b4",
                "versionSpec": "2.*",
                "definitionType": "task"
            },
            "inputs": {
                "ConnectedServiceName": "3fcb20b6-eca0-48e5-9e59-35c9822a7152",
                "action": "Create Or Update Resource Group",
                "resourceGroupName": "test",
                "location": "West US",
                "templateLocation": "Linked artifact",
                "csmFileLink": "",
                "csmParametersFileLink": "",
                "csmFile": "infra/AspNetCoreApplication.Infrastructure/templates/deploy-linux.json",
                "csmParametersFile": "",
                "overrideParameters": "-appServicePlanName test -webAppName test -registryName test -dockerImageName test",
                "deploymentMode": "Validation",
                "enableDeploymentPrerequisites": "None",
                "deploymentGroupEndpoint": "",
                "project": "",
                "deploymentGroupName": "",
                "copyAzureVMTags": "true",
                "outputVariable": ""
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Publish Artifact: infra",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "PublishBuildArtifacts_9",
            "task": {
                "id": "2ff763a7-ce83-4e1f-bc89-0ae63477cebe",
                "versionSpec": "1.*",
                "definitionType": "task"
            },
            "inputs": {
                "PathtoPublish": "infra/AspNetCoreApplication.Infrastructure/templates",
                "ArtifactName": "infra",
                "ArtifactType": "Container",
                "TargetPath": "\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)"
            }
        },
        {
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Publish Artifact: scripts",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "refName": "PublishBuildArtifacts_10",
            "task": {
                "id": "2ff763a7-ce83-4e1f-bc89-0ae63477cebe",
                "versionSpec": "1.*",
                "definitionType": "task"
            },
            "inputs": {
                "PathtoPublish": "infra/AspNetCoreApplication.Infrastructure/scripts",
                "ArtifactName": "scripts",
                "ArtifactType": "Container",
                "TargetPath": "\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)"
            }
        }
    ],
    "options": [
        {
            "enabled": false,
            "definition": {
                "id": "7c555368-ca64-4199-add6-9ebaf0b0137d"
            },
            "inputs": {
                "multipliers": "[]",
                "parallel": "false",
                "continueOnError": "true",
                "additionalFields": "{}"
            }
        },
        {
            "enabled": true,
            "definition": {
                "id": "a9db38f9-9fdc-478c-b0f9-464221e58316"
            },
            "inputs": {
                "workItemType": "721406",
                "assignToRequestor": "true",
                "additionalFields": "{}"
            }
        },
        {
            "enabled": false,
            "definition": {
                "id": "57578776-4c22-4526-aeb0-86b6da17ee9c"
            },
            "inputs": {
                "additionalFields": "{}"
            }
        },
        {
            "enabled": false,
            "definition": {
                "id": "5d58cc01-7c75-450c-be18-a388ddb129ec"
            },
            "inputs": {
                "branchFilters": "[\"+refs/heads/*\"]",
                "additionalFields": "{}"
            }
        }
    ],
    "variables": {
        "system.debug": {
            "value": "false",
            "allowOverride": true
        },
        "BuildConfiguration": {
            "value": "release",
            "allowOverride": true
        },
        "BuildPlatform": {
            "value": "any cpu",
            "allowOverride": true
        },
        "DOTNET_SKIP_FIRST_TIME_EXPERIENCE": {
            "value": "true"
        }
    },
    "retentionRules": [
        {
            "branches": [
                "+refs/heads/*"
            ],
            "artifacts": [],
            "artifactTypesToDelete": [
                "FilePath",
                "SymbolStore"
            ],
            "daysToKeep": 10,
            "minimumToKeep": 1,
            "deleteBuildRecord": true,
            "deleteTestResults": true
        }
    ],
    "metrics": [
        {
            "name": "CurrentBuildsInQueue",
            "scope": "refs/heads/master",
            "intValue": 0
        },
        {
            "name": "CurrentBuildsInProgress",
            "scope": "refs/heads/master",
            "intValue": 0
        },
        {
            "name": "CanceledBuilds",
            "scope": "refs/heads/master",
            "intValue": 0,
            "date": "2017-07-09T00:00:00.000Z"
        },
        {
            "name": "CanceledBuilds",
            "scope": "refs/heads/master",
            "intValue": 0,
            "date": "2017-07-07T00:00:00.000Z"
        },
        {
            "name": "FailedBuilds",
            "scope": "refs/heads/master",
            "intValue": 2,
            "date": "2017-07-09T00:00:00.000Z"
        },
        {
            "name": "FailedBuilds",
            "scope": "refs/heads/master",
            "intValue": 6,
            "date": "2017-07-07T00:00:00.000Z"
        },
        {
            "name": "PartiallySuccessfulBuilds",
            "scope": "refs/heads/master",
            "intValue": 0,
            "date": "2017-07-09T00:00:00.000Z"
        },
        {
            "name": "PartiallySuccessfulBuilds",
            "scope": "refs/heads/master",
            "intValue": 0,
            "date": "2017-07-07T00:00:00.000Z"
        },
        {
            "name": "SuccessfulBuilds",
            "scope": "refs/heads/master",
            "intValue": 1,
            "date": "2017-07-09T00:00:00.000Z"
        },
        {
            "name": "SuccessfulBuilds",
            "scope": "refs/heads/master",
            "intValue": 0,
            "date": "2017-07-07T00:00:00.000Z"
        },
        {
            "name": "TotalBuilds",
            "scope": "refs/heads/master",
            "intValue": 3,
            "date": "2017-07-09T00:00:00.000Z"
        },
        {
            "name": "TotalBuilds",
            "scope": "refs/heads/master",
            "intValue": 6,
            "date": "2017-07-07T00:00:00.000Z"
        }
    ],
    "_links": {
        "self": {
            "href": "https://mabenoit-ms.visualstudio.com/a09df269-8b88-43bb-b742-396def59efaa/_apis/build/Definitions/26"
        },
        "web": {
            "href": "https://mabenoit-ms.visualstudio.com/_permalink/_build/index?collectionId=e373a2ff-a162-446f-b7ec-415465e9e56c&projectId=a09df269-8b88-43bb-b742-396def59efaa&definitionId=26"
        },
        "editor": {
            "href": "https://mabenoit-ms.visualstudio.com/_permalink/_build/definitionEditor?collectionId=e373a2ff-a162-446f-b7ec-415465e9e56c&projectId=a09df269-8b88-43bb-b742-396def59efaa&definitionId=26"
        }
    },
    "buildNumberFormat": "$(date:yyyyMMdd)$(rev:.r)",
    "jobAuthorizationScope": 1,
    "jobTimeoutInMinutes": 60,
    "jobCancelTimeoutInMinutes": 5,
    "repository": {
        "properties": {
            "connectedServiceId": "f9b57a60-743f-45be-9b4a-29d40aba4261",
            "apiUrl": "https://api.github.com/repos/mathieu-benoit/asp-dot-net-core-on-azure-web-app",
            "branchesUrl": "https://api.github.com/repos/mathieu-benoit/asp-dot-net-core-on-azure-web-app/branches",
            "cloneUrl": "https://github.com/mathieu-benoit/asp-dot-net-core-on-azure-web-app.git",
            "refsUrl": "https://api.github.com/repos/mathieu-benoit/asp-dot-net-core-on-azure-web-app/git/refs",
            "gitLfsSupport": "false",
            "skipSyncSource": "false",
            "fetchDepth": "0",
            "cleanOptions": "0",
            "checkoutNestedSubmodules": "false",
            "reportBuildStatus": "true",
            "definitionId": "26",
            "branch": "master"
        },
        "id": "https://github.com/mathieu-benoit/asp-dot-net-core-on-azure-web-app.git",
        "type": "GitHub",
        "name": "mathieu-benoit/asp-dot-net-core-on-azure-web-app",
        "url": "https://github.com/mathieu-benoit/asp-dot-net-core-on-azure-web-app.git",
        "defaultBranch": "master",
        "clean": "false",
        "checkoutSubmodules": false
    },
    "processParameters": {},
    "quality": 1,
    "authoredBy": {
        "id": "17256fe4-f2a3-4370-b081-ec283edb6a77",
        "displayName": "Mathieu Benoit",
        "uniqueName": "mabenoit@microsoft.com",
        "url": "https://app.vssps.visualstudio.com/A6d1a4ff8-9a1f-46cb-bd61-54cb9a797939/_apis/Identities/17256fe4-f2a3-4370-b081-ec283edb6a77",
        "imageUrl": "https://mabenoit-ms.visualstudio.com/_api/_common/identityImage?id=17256fe4-f2a3-4370-b081-ec283edb6a77"
    },
    "queue": {
        "id": 11,
        "name": "Hosted Linux Preview",
        "pool": {
            "id": 3,
            "name": "Hosted Linux Preview",
            "isHosted": true
        }
    },
    "id": 26,
    "name": "AspDotNetCore-AppServiceLinux-CI",
    "url": "https://mabenoit-ms.visualstudio.com/a09df269-8b88-43bb-b742-396def59efaa/_apis/build/Definitions/26",
    "uri": "vstfs:///Build/Definition/26",
    "path": "\\",
    "type": 2,
    "revision": 22,
    "createdDate": "2017-07-09T02:35:33.510Z",
    "project": {
        "id": "a09df269-8b88-43bb-b742-396def59efaa",
        "name": "AspNetCoreApplication",
        "url": "https://mabenoit-ms.visualstudio.com/_apis/projects/a09df269-8b88-43bb-b742-396def59efaa",
        "state": "wellFormed",
        "revision": 67,
        "visibility": 0
    }
}